<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/edit.css" />
    <title>Update Rental Details</title>
  </head>
  <body>
    <%- include('../partials/nav.ejs') %>

    <main class="update-form-container">
      <h1>Update Rental Details</h1>
      <form
        action="/users/<%= user._id %>/rental/<%= booking._id %>?_method=PUT"
        method="POST"
        class="update-form"
      >
        <div class="form-group">
          <label for="adders">Address</label>
          <input
            type="text"
            name="adders"
            id="adders"
            value="<%= booking.adders %>"
            required
          />
        </div>

        <div class="form-group">
          <label for="sdate">Start Date</label>
          <input
            type="date"
            name="sdate"
            id="sdate"
            value="<%= booking.fristdate.toISOString().split('T')[0] %>"
            required
          />
        </div>

        <div class="form-group">
          <label for="edate">End Date</label>
          <input
            type="date"
            name="edate"
            id="edate"
            value="<%= booking.lastdate.toISOString().split('T')[0] %>"
            required
          />
        </div>

        <div class="form-group">
          <label for="company">Company</label>
          <select name="company" id="company" required>
            <option value="Track" <%= booking.bike[0].company === "Track" ? "selected" : "" %>>Track</option>
            <option value="Trinx" <%= booking.bike[0].company === "Trinx" ? "selected" : "" %>>Trinx</option>
            <option value="Klyes" <%= booking.bike[0].company === "Klyes" ? "selected" : "" %>>Klyes</option>
          </select>
        </div>

        <div class="form-group">
          <label for="type">Type</label>
          <select name="type" id="type" required>
            <option value="Road" <%= booking.bike[0].type === "Road" ? "selected" : "" %>>Road</option>
            <option value="Mountain" <%= booking.bike[0].type === "Mountain" ? "selected" : "" %>>Mountain</option>
            <option value="Hybrid" <%= booking.bike[0].type === "Hybrid" ? "selected" : "" %>>Hybrid</option>
            <option value="Touring" <%= booking.bike[0].type === "Touring" ? "selected" : "" %>>Touring</option>
            <option value="Gravel" <%= booking.bike[0].type === "Gravel" ? "selected" : "" %>>Gravel</option>
            <option value="Cruiser" <%= booking.bike[0].type === "Cruiser" ? "selected" : "" %>>Cruiser</option>
          </select>
        </div>

        <div class="form-group">
          <label for="color">Color</label>
          <input
            type="text"
            name="color"
            id="color"
            value="<%= booking.bike[0].color %>"
            required
          />
        </div>

        <button type="submit" class="submit-btn">Update Rental</button>
      </form>
    </main>
  </body>
</html>